<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner" ng-controller="navBarController">
    <div class="container" id="navbarContainer">
        <div class="navbar-header" id="navbarHeader">
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../" class="navbar-brand"><%= __("Chaton")%> </a>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"> <%= __("home")%> <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#">Action</a></li>
                        <li class="divider"></li>
                        <li><a href="#"><%= __("My profile")%></a></li>
                        <li class="divider"></li>
                        <li><a href="#"><%= __("Log out")%></a></li>
                    </ul>
                </li>
            </ul>
            <p class="navbar-text navbar-right"><a href="#" class="navbar-link">{{username}}</a></p>
        </nav>
    </div>
    <div class="container banner" id="banner">
        
    </div>
</header>

<script type="text/javascript">
    var navBarModule = angular.module('navBarModule', [])
            .controller('navBarController', function ($scope, $http) {

                $http.get('/authentication/check').
                        success(function (data, status, headers, config) {
                            $scope.username = data.username;
                        }).
                        error(function (data, status, headers, config) {
                            $scope.username = "???";
                        });

            });

    angular.element(document).ready(function () {
        angular.bootstrap(document, ['navBarModule']);
    });
</script>